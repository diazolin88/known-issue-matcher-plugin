<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page - Known Issues Matcher</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }

        td,
        th {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            vertical-align: top;
        }

        .error {
            color: red;
            margin-top: 5px;
            font-family: monospace;
            background: #ffe6e6;
            padding: 5px;
            border-radius: 4px;
        }

        .pass {
            color: green;
        }

        .fail {
            color: red;
        }
    </style>
</head>

<body>
    <h1>Test Execution Report</h1>



    <table id="resultsTable">
        <thead>
            <tr>
                <th>Iteration</th>
                <th>Status</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <script>
        const tableBody = document.querySelector('#resultsTable tbody');
        const iterations = 10;


        function getRandomFloat(min, max) {
            return (Math.random() * (max - min) + min).toFixed(2);
        }

        function generateRandomError() {
            const templates = [
                () => `[Selector count] Expected ${getRandomFloat(1, 10)} but was ${getRandomFloat(1, 10)}`,
                () => `TimeoutException: Element not visible after ${Math.floor(Math.random() * 30)} seconds`,
                () => `AssertionError: value '${Math.random().toString(36).substring(7)}' did not match expected pattern`,
                () => `500 Internal Server Error: Request ID ${Math.floor(Math.random() * 100000)} failed`,
                () => `ReferenceError: variable 'var_${Math.floor(Math.random() * 99)}' is not defined`
            ];
            const randomIndex = Math.floor(Math.random() * templates.length);
            return templates[randomIndex]();
        }

        for (let i = 1; i <= iterations; i++) {
            const row = document.createElement('tr');

            // Random pass/fail
            const isFail = Math.random() > 0.5;
            const statusText = isFail ? 'FAIL' : 'PASS';
            const statusClass = isFail ? 'fail' : 'pass';

            // Iteration Cell
            const iterCell = document.createElement('td');
            iterCell.textContent = i;
            row.appendChild(iterCell);

            // Status Cell
            const statusCell = document.createElement('td');
            statusCell.innerHTML = `<strong>Iteration ${i} : <span class="${statusClass}">${statusText}</span></strong>`;
            row.appendChild(statusCell);

            // Details Cell
            const detailsCell = document.createElement('td');
            if (isFail) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error';
                errorDiv.textContent = generateRandomError();
                detailsCell.appendChild(errorDiv);
            } else {
                detailsCell.textContent = 'Test passed successfully.';
            }
            row.appendChild(detailsCell);

            tableBody.appendChild(row);
        }
    </script>
</body>

</html>